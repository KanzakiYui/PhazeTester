(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{137:function(e,t){},138:function(e,t){},141:function(e,t){},142:function(e,t){},147:function(e,t){},150:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return c});var a={Canada:"CA","United States":"US"},r={CA:"CAD",US:"USD"},o={CAD:"Canada",USD:"United States"},c={"Phaze Credit":"Credit",Bitcoin:"BTC",Litecoin:"LTC",Ethereum:"ETH"}},476:function(e,t,n){},478:function(e,t,n){},480:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAN2AAADdgF91YLMAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAYNQTFRF////+pmg/HmA/XV8/IaM/IaN9fX1/lVe/ldg9e3t9e7u9e/v9e/w9fDw9fHx9fPz9fT09fX19t/g9uHi9uLj9uPk9uTl9uXm9ubn9ufo9ujp9uvr9uvs9uzt9u3t98vN983P983Q99DS99PV99TW99bY99nb99rc+Lm9+Lu++Lu/+Ly/+L3B+L7B+L/C+MLF+MfJ+MjL+MnL+MnM+MvN+auv+a2x+a2y+a6y+bC0+bK2+bO3+bW4+ba6+bi8+bm9+ped+pmf+pyh+p6j+qCl+qGm+qKn+qOo+qWp+qWq+qer+qit+4eN+4eO+4uR+5OY+5OZ+5Sa+5Wb+5ec/HV9/Hd//Hh//HqB/H2E/H6F/H+G/ICH/IGI/IOJ/IOK/IaN/WVu/Wdw/Wlx/Wtz/Wx0/W11/XB4/XF4/XJ6/XN6/XN7/lRd/lZf/lhh/lli/lpj/l1m/l5n/l9o/mBp/mFp/mFq/mNs/0tV/0xW/01X/05Y/09Y/09Z/1Ba/1Jc/1Nc/1NdZZy92AAAAAl0Uk5TAEHd5Pv7/v7+0HHf2wAAApBJREFUeNrtmulT00AYhwN4UGx1o1KVQyhqEWzFAypFUbGtFx54IRhFiqltBXug8qZYhT/dptGZJMxiM2T3/cD7fEgmu792n0m23d0kikIQBEEQBEEQ+5629s7DPA4e8oUD3AY629uUDuCjqb6g7dJEh7KJK7CpAK4AkAAJkAAJkAAJ7FVgcBBZoFjEFRgDGMMUYFmALEMUmDZT03gCoXUztR5CELBO+6wVm7UVyRK4kU9HopM1K1abjEbS+YRUges7w9ekCpzZGT4ttxOW3dmvkn8Fb9zZ15IFXrqzc5IFbrqzSWkCZ5vbIXc2YqsUKzDXHH0Chivb2xybXkgQ0LfOm7sfzmjFLLuwrYsTGNamwuZ+wIBKd2P/zhl92ygKV8EYMDPhKW3Yd4FeAENPxSYqjfJPAVW954zeVdWunHkmJmIp3fh7Rfy9BGu2ioVj6kVn9JbK3tsO1wT0gZy95jl77Iw+Yq/shzkBAkuOqpLrV2A4/5uXBAjMgAdmBAgkvQgkBQhc9iIQFyBw34tAyn+B+C8vAvWYzwJXv4BHClf8FDhRBM98Pu7rJRj55q356m3mcx8IPthuvfnf6S4Bw3H4mdFa88bTk4LmA+da6or5IYETkkvf/3vx7zChM6Lgw127wlbmiPAp2amP/A986JYxLWfcL1xkctYFgZ+cxy8BWQsTzrBQk7UyOsp70BWUJBDn5UckCSxaJ7y8Mv9kHqCxWSlb90oW5AiwTGJ0PNpj9fjlZausJzo+msgweavjfxQKyLdqdR1ZIJtFFtjYQBaoVpEFSiVkgdVVZIF6HVeAATBUgRBACFWgD6APVaBf0/rpwSUJkAAJkMAeBdBf50N/oRH9lU6CIAiCIAiC2Pf8AT323gSiFXXNAAAAAElFTkSuQmCC"},481:function(e,t){e.exports="data:image/png;base64,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"},643:function(e,t,n){"use strict";n.r(t);var a=n(178),r=n.n(a),o=n(179),c=n(9),u=n(10),i=n(12),A=n(11),l=n(13),s=n(0),d=n.n(s),m=(n(476),n(478),n(16)),f=n.n(m);var C=function(e){return d.a.createElement("div",{className:"CustomLoader"},d.a.createElement("span",{style:{color:e.color}},e.message),d.a.createElement(f.a,{type:e.type,color:e.color,height:"25",width:"25"}))},h=n(87),g=n(6),p=n(5),E=n.n(p),b=n(150),B=n(644),y=n(642),I=n(631),S=n(14),v=n.n(S),k=n(480),w=n.n(k),L=n(481),j=n.n(L),O=E()({loader:function(){return n.e(23).then(n.bind(null,637))},loading:g.a,delay:1e3,render:function(e,t){var n=e.default;return d.a.createElement(n,t)}}),x=E()({loader:function(){return n.e(24).then(n.bind(null,638))},loading:g.a,delay:1e3,render:function(e,t){var n=e.default;return d.a.createElement(n,t)}}),Q=E()({loader:function(){return n.e(25).then(n.bind(null,639))},loading:g.a,delay:1e3,render:function(e,t){var n=e.default;return d.a.createElement(n,t)}}),U=E()({loader:function(){return n.e(26).then(n.bind(null,645))},loading:g.a,delay:1e3,render:function(e,t){var n=e.default;return d.a.createElement(n,t)}}),V=E()({loader:function(){return n.e(27).then(n.bind(null,640))},loading:g.a,delay:1e3}),P=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(i.a)(this,Object(A.a)(t).call(this,e))).UserCheck=Object(o.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Object(h.a)().then(function(e){return console.log(e),e.type?"EMAIL_VERIFIED"===e.type?n.setState({username:e.username,emailVerified:!0},n.GetPromo):"VERIFIED_CA"===e.type?n.setState({username:e.username,emailVerified:!0,kycVerified:!0,kycCountry:"Canada"},n.GetPromo):"VERIFIED_US"===e.type&&n.setState({username:e.username,emailVerified:!0,kycVerified:!0,kycCountry:"United States"},n.GetPromo):n.setState({showContent:!0,username:e.username}),null}).catch(n.Logout);case 1:case"end":return e.stop()}},e,this)})),n.GetPromo=function(){Object(h.b)("users/list_coupons").then(function(e){return n.setState({promoInfo:function(e){var t=e.result[0];return t?{amount:t.amount/100,code:t.code,rate:Number(t.discount)}:{amount:0,code:null,rate:0}}(e)},n.GetBrands),null}).catch(n.Logout)},n.GetBrands=function(){Object(h.b)("merchant/list_brands/country/ALL").then(function(e){return n.setState({brandInfo:function(e){var t=e.map(function(e){var t=b.c[b.a[e.country]];if(-1!==e.denominations.indexOf("-")){var n=Number(e.denominations.split("-").shift())/100,a=Number(e.denominations.split("-").pop())/100;return{index:e.index?e.index:9999,code:e.internal_id,name:e.brand_name,country:t,min:n,max:a,acceptCents:!1!==e.openRange,category:e.category}}var r=e.denominations.split(" ").map(function(e){return Number(e)/100});return{index:e.index?e.index:9999,code:e.internal_id,name:e.brand_name,country:t,array:r,acceptCents:!1!==e.openRange,category:e.category}});return t.sort(function(e,t){return e.index-t.index}),t}(e),showContent:!0}),null}).catch(n.Logout)},n.Logout=function(){Object(h.b)("public/logout").then(function(){return n.props.history.push("/"),null}).catch(function(){})},n.CountryChanged=function(){n.setState({country:"Canada"===n.state.country?"United States":"Canada",openCountrySelection:!1})},n.SelectBrand=function(e){n.setState({selectedBrand:n.state.brandInfo.filter(function(t){return t.code===e})[0]},function(){return n.props.history.push("/dashboard/payment")})},n.ConfirmAmount=function(e){n.setState({amountInfo:e},function(){return n.props.history.push("/dashboard/checkout")})},n.PurchaseResult=function(e){n.props.history.push({pathname:"/dashboard/result",state:e})},n.state={location:"dashboard",country:"Canada",openCountrySelection:!1,menuActive:!1,username:null,emailVerified:!1,kycVerified:!1,kycCountry:null,promoInfo:null,brandInfo:null,showContent:!1,openSearch:!1,selectedBrand:null,amountInfo:null},n}return Object(l.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.UserCheck(),window.scrollTo({top:0,left:0,behavior:"smooth"})}},{key:"componentDidUpdate",value:function(){var e=window.location.href.split("/");(e=""===e[e.length-1]?e[e.length-2]:e[e.length-1])!==this.state.location&&this.setState({location:e.toLowerCase()})}},{key:"render",value:function(){var e=this;if(!this.state.showContent)return d.a.createElement(C,{type:"Oval",message:"Loading Data",color:"var(--color-red-normal)"});if(!this.state.emailVerified)return d.a.createElement(O,{Logout:this.Logout});var t=null,n=null,a=this.state.menuActive?"Active":"",r=null;return this.state.openCountrySelection&&(r=d.a.createElement("div",{id:"CountrySelection"},d.a.createElement("i",{className:"fas fa-times",onClick:function(){return e.setState({openCountrySelection:!1})}}),d.a.createElement("p",null,d.a.createElement("i",{className:"far fa-compass"})),d.a.createElement("p",null,"You're shopping in",d.a.createElement("br",null),this.state.country),d.a.createElement("p",null,"Changing the country you shop from may affect product price and availability."),d.a.createElement("button",{className:"button-1",onClick:this.CountryChanged},"Shop ","Canada"===this.state.country?"United States":"Canada",d.a.createElement("i",{className:"fas fa-arrow-right"})))),"dashboard"===this.state.location&&(n=d.a.createElement(d.a.Fragment,null,d.a.createElement(B.a,{exact:!0,to:"/dashboard/",activeClassName:"Actived"},d.a.createElement("i",{className:"fas fa-th-large"})),d.a.createElement(B.a,{exact:!0,to:"/dashboard/map",activeClassName:"Actived"},d.a.createElement("i",{className:"fas fa-map-marker-alt"})),d.a.createElement("i",{className:"fas fa-search",onClick:function(){return e.setState({openSearch:!0})}}))),["payment","checkout","result"].includes(this.state.location)||(t=d.a.createElement("div",{id:"Dashboard-Menu"},d.a.createElement("div",{className:"Bar"},d.a.createElement("div",{className:"Controller"},d.a.createElement("i",{className:"fas fa-bars",onClick:function(){return e.setState(function(e){return{menuActive:!e.menuActive}})}}),d.a.createElement("span",null,this.state.location)),d.a.createElement("div",{className:"SubMenu"},n),d.a.createElement("div",{className:"Bottom"},d.a.createElement("img",{src:"Canada"===this.state.country?w.a:j.a,alt:"",onClick:function(){return e.setState({openCountrySelection:!0})}}),d.a.createElement("img",{src:v.a,alt:""}))),d.a.createElement("div",{className:"Panel "+a},d.a.createElement(B.a,{exact:!0,to:"/dashboard",onClick:function(){return e.setState({location:"shop",menuActive:!1})}},"Shop"),d.a.createElement(B.a,{exact:!0,to:"/dashboard/wallet",onClick:function(){return e.setState({location:"wallet",menuActive:!1})}},"Wallet"),d.a.createElement(B.a,{exact:!0,to:"/dashboard/account",onClick:function(){return e.setState({location:"account",menuActive:!1})}},"Account")))),d.a.createElement("div",{id:"Dashboard"},t,d.a.createElement(y.a,null,d.a.createElement(I.a,{exact:!0,path:"/dashboard",render:function(t){return d.a.createElement(x,Object.assign({},t,{country:e.state.country,brandInfo:e.state.brandInfo,openSearch:e.state.openSearch,CloseSearch:function(){return e.setState({openSearch:!1})},SelectBrand:e.SelectBrand}))}}),d.a.createElement(I.a,{exact:!0,path:"/dashboard/map",render:function(e){return d.a.createElement(x,e)}}),d.a.createElement(I.a,{exact:!0,path:"/dashboard/payment",render:function(t){return d.a.createElement(Q,Object.assign({},t,{brandInfo:e.state.selectedBrand,promoInfo:e.state.promoInfo,ConfirmAmount:e.ConfirmAmount}))}}),d.a.createElement(I.a,{exact:!0,path:"/dashboard/checkout",render:function(t){return d.a.createElement(U,Object.assign({},t,{amountInfo:e.state.amountInfo,PurchaseResult:e.PurchaseResult}))}}),d.a.createElement(I.a,{exact:!0,path:"/dashboard/result",component:V})),r)}}]),t}(d.a.Component);t.default=P},87:function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"d",function(){return u}),n.d(t,"a",function(){return i}),n.d(t,"c",function(){return A});var a=n(132),r=n.n(a),o="https://webstaging.phaze.io/api/";function c(e){return r()({method:"GET",url:o+e,json:!0,withCredentials:!0})}function u(e,t){return r()({method:"POST",url:o+e,body:t,json:!0,withCredentials:!0})}function i(){return r()({method:"GET",url:o+"users/check_auth",json:!0,withCredentials:!0})}function A(e){return r()({url:e,json:!0})}}}]);
//# sourceMappingURL=8.b7d3de41.chunk.js.map