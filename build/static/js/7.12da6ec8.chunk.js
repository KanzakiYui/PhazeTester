(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{198:function(e,t,n){"use strict";var a=n(49),r=n(50),i=n(52),o=n(51),c=n(53),s=n(0),l=n.n(s),u=n(31),d=n.n(u),m=(n(272),function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=null;if(this.props.open){"search"!==this.props.type&&document.activeElement.blur();var t="MessageScreen "+this.props.type;e=l.a.createElement("div",{className:t,onTouchMove:function(e){return e.stopPropagation()},onMouseMove:function(e){return e.stopPropagation()}},l.a.createElement("div",{className:"Content"},this.props.content),l.a.createElement("button",{className:"button-2",onClick:this.props.close},this.props.buttonText))}return d.a.createPortal(e,document.body)}}]),t}(l.a.Component));t.a=m},199:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"c",function(){return c}),n.d(t,"a",function(){return s});var a=n(239),r=n.n(a),i="https://webstaging.phaze.io/api/";function o(e){return r()({method:"GET",url:i+e,json:!0,withCredentials:!0})}function c(e,t){return r()({method:"POST",url:i+e,body:t,json:!0,withCredentials:!0})}function s(){return r()({method:"GET",url:i+"users/check_auth",json:!0,withCredentials:!0})}},246:function(e,t){},247:function(e,t){},255:function(e,t){},256:function(e,t){},262:function(e,t){},272:function(e,t,n){},274:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return r}),n.d(t,"c",function(){return i});var a={Canada:"CA","United States":"US"},r={CA:"CAD",US:"USD"},i={CAD:"Canada",USD:"United States"}},346:function(e,t,n){"use strict";var a=n(49),r=n(50),i=n(52),o=n(51),c=n(53),s=n(0),l=n.n(s),u=n(635),d=n(607),m=n.n(d),f=(n(608),function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){switch(this.props.type){case 0:return l.a.createElement("div",{id:"Menu"},l.a.createElement("div",{id:"Menu-Left"},l.a.createElement(u.a,{exact:!0,to:"/dashboard/wallet",activeClassName:"Active"},l.a.createElement("i",{className:"fas fa-coins"}),l.a.createElement("span",null,"Wallet"))),l.a.createElement("div",{id:"Menu-Center"},l.a.createElement(u.a,{exact:!0,to:"/dashboard",activeClassName:"Active"},l.a.createElement("img",{src:m.a,alt:""}),l.a.createElement("span",null,"Shop"))),l.a.createElement("div",{id:"Menu-Right"},l.a.createElement(u.a,{exact:!0,to:"/dashboard/account",activeClassName:"Active"},l.a.createElement("i",{className:"fas fa-user-alt"}),l.a.createElement("span",null,"Account")),this.props.kyc?null:l.a.createElement("i",{className:"fas fa-exclamation-circle KYC"})));case 1:return l.a.createElement("div",{id:"Menu",className:"Shopping"},l.a.createElement("div",{id:"Menu-Left"},l.a.createElement("p",{disabled:!0},l.a.createElement("i",{className:"fas fa-coins"}),l.a.createElement("span",null,"Wallet"))),l.a.createElement("div",{id:"Menu-Center",onClick:this.props.onClick},l.a.createElement("p",null,l.a.createElement("img",{src:m.a,alt:""}),l.a.createElement("span",null,"BUY"))),l.a.createElement("div",{id:"Menu-Right"},l.a.createElement("p",null,l.a.createElement("i",{className:"fas fa-user-alt"}),l.a.createElement("span",null,"Account"))));default:return null}}}]),t}(l.a.Component));t.a=f},603:function(e,t,n){},605:function(e,t,n){},607:function(e,t,n){e.exports=n.p+"static/media/Logo.4f8d6399.png"},608:function(e,t,n){},633:function(e,t,n){"use strict";n.r(t);var a=n(599),r=n.n(a),i=n(602),o=n(49),c=n(50),s=n(52),l=n(51),u=n(53),d=n(0),m=n.n(d),f=(n(603),n(638)),h=n(626),p=n(22),b=n.n(p),v=n(23),E=n(199),y=n(274),C=n(198),g=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(l.a)(t).call(this,e))).Click=function(){n.props.onClick(),n.setState({disable:!0,time:n.props.time},function(){return n.timer=setInterval(n.Tick,1e3)})},n.Tick=function(){1!==n.state.time?n.setState(function(e){return{time:e.time-1}}):(n.setState({time:-1,disable:!1}),clearInterval(n.timer))},n.state={disable:!1,time:-1},n.timer=null,n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"render",value:function(){return this.state.disable?m.a.createElement("button",{className:"disabled",disabled:!0},this.props.disabledText," in ",this.state.time," sec"):m.a.createElement("button",{className:this.props.className,onClick:this.Click},this.props.text)}}]),t}(m.a.Component),w=(n(605),n(74)),k=n.n(w);var j=function(e){return m.a.createElement("div",{className:"CustomLoader"},m.a.createElement("span",{style:{color:e.color}},e.message),m.a.createElement(k.a,{type:e.type,color:e.color,height:"25",width:"25"}))},O=n(346),S=n(18),N=b()({loader:function(){return n.e(9).then(n.bind(null,636))},loading:v.a,delay:1e3,render:function(e,t){var n=e.default;return m.a.createElement(n,t)}}),x=b()({loader:function(){return Promise.all([n.e(1),n.e(10)]).then(n.bind(null,637))},loading:v.a,delay:1e3,render:function(e,t){var n=e.default;return m.a.createElement(n,t)}}),I=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(l.a)(t).call(this,e))).IsMobile=function(){var e=window.innerWidth/window.innerHeight<.7&&window.innerWidth<1024;e!==n.state.isMobile&&n.setState({isMobile:e})},n.UserCheck=Object(i.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Object(E.a)().then(function(e){return console.log(e),e.type?"EMAIL_VERIFIED"===e.type?n.setState({username:e.username,emailVerified:!0},n.GetPromo):"VERIFIED_CA"===e.type?n.setState({username:e.username,emailVerified:!0,kycVerified:!0,kycCountry:"Canada"},n.GetPromo):"VERIFIED_US"===e.type&&n.setState({username:e.username,emailVerified:!0,kycVerified:!0,kycCountry:"United States"},n.GetPromo):n.setState({showContent:!0,username:e.username}),null}).catch(n.Logout);case 1:case"end":return e.stop()}},e,this)})),n.SendEmailVerification=function(){Object(E.b)("users/send_verify_email").then(function(){}).catch(n.Logout)},n.GetPromo=function(){Object(E.b)("users/list_coupons").then(function(e){var t;return n.setState({promoInfo:(t=e,t)},n.GetBrands),null}).catch(n.Logout)},n.GetBrands=function(){Object(E.b)("merchant/list_brands/country/ALL").then(function(e){return n.setState({brandInfo:function(e){var t=e.map(function(e){var t=y.c[y.a[e.country]];if(-1!==e.denominations.indexOf("-")){var n=Number(e.denominations.split("-").shift())/100,a=Number(e.denominations.split("-").pop())/100;return{index:e.index,code:e.internal_id,name:e.brand_name,country:t,min:n,max:a}}var r=e.denominations.split(" ").map(function(e){return Number(e)/100});return{index:e.index,code:e.internal_id,name:e.brand_name,country:t,array:r}});return t.sort(function(e,t){return e.index-t.index}),t}(e),showContent:!0}),null}).catch(n.Logout)},n.Logout=function(){Object(E.b)("logout").then(function(){return n.props.history.push("/"),null}).catch(function(){})},n.SelectBrand=function(e){var t=n.state.brandInfo.filter(function(t){return t.code===e})[0];n.setState({selectedBrand:t},function(){return n.props.history.push("/dashboard/payment")})},n.GotoPay=function(e){console.log(e)},n.state={isMobile:window.innerWidth/window.innerHeight<.7,username:null,emailVerified:!1,kycVerified:!1,kycCountry:null,promoInfo:null,brandInfo:null,showContent:!1,menuAvailable:!0,selectedBrand:null},n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){setTimeout(this.UserCheck,500),this.responsiveChange=Object(S.a)(this.IsMobile,500),window.onresize=this.responsiveChange}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.responsiveChange)}},{key:"componentDidUpdate",value:function(){var e="dashboard"===window.location.href.split("/").pop().toLowerCase();e&&!this.state.menuAvailable?this.setState({menuAvailable:!0}):!e&&this.state.menuAvailable&&this.setState({menuAvailable:!1})}},{key:"render",value:function(){var e=this;if(!this.state.emailVerified&&this.state.showContent){var t=m.a.createElement("div",{className:"VerifyEmailNotice"},m.a.createElement("p",{className:"Title"},m.a.createElement("i",{className:"fas fa-exclamation-circle"})," Active Your Account"),m.a.createElement("p",{className:"Description"},"You need to active your account via clicking the link sent to you when you signed up",m.a.createElement("br",null),m.a.createElement("br",null),"You can also click the button below to resend verification link to ",m.a.createElement("span",null,this.state.username)),m.a.createElement(g,{className:"button-1",text:"Resend",disabledText:"You can resend",onClick:this.SendEmailVerification,time:10}));return m.a.createElement(C.a,{open:!0,type:"info",buttonText:"Log out",content:t,close:this.Logout})}return this.state.showContent?m.a.createElement("div",{id:"Dashboard"},m.a.createElement(f.a,null,m.a.createElement(h.a,{exact:!0,path:"/dashboard",render:function(t){return m.a.createElement(N,Object.assign({},t,{brandInfo:e.state.brandInfo,select:e.SelectBrand,CountryFilter:e.ChangeCountryFilter,CategoryFilter:e.ChangeCategoryFilter,itemsPerPage:e.state.isMobile?4:8}))}}),m.a.createElement(h.a,{exact:!0,path:"/dashboard/map",render:function(t){return m.a.createElement(N,Object.assign({},t,{brandInfo:e.state.brandInfo,select:e.SelectBrand,CountryFilter:e.ChangeCountryFilter,CategoryFilter:e.ChangeCategoryFilter}))}}),m.a.createElement(h.a,{exact:!0,path:"/dashboard/payment",render:function(t){return m.a.createElement(x,Object.assign({},t,{brandInfo:e.state.selectedBrand,GotoPay:e.GotoPay}))}})),m.a.createElement(O.a,{type:this.state.menuAvailable?0:-1,kyc:this.state.kycVerified})):m.a.createElement(j,{type:"Oval",message:"Loading Data",color:"var(--color-red-dark)"})}}]),t}(m.a.Component);t.default=I}}]);
//# sourceMappingURL=7.12da6ec8.chunk.js.map