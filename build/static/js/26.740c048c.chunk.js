(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{180:function(t,e,a){"use strict";e.a=function(t,e){var a;return e=e||200,function(n){a&&clearTimeout(a),a=setTimeout(t,e,n)}}},489:function(t,e,a){},491:function(t,e,a){},493:function(t,e,a){t.exports=a.p+"static/media/Bitcoin.a552edcd.png"},494:function(t,e,a){t.exports=a.p+"static/media/Ethereum.a9b80ba0.png"},495:function(t,e,a){t.exports=a.p+"static/media/Litecoin.97fb2b98.png"},650:function(t,e,a){"use strict";a.r(e);var n=a(178),r=a.n(n),c=a(179),o=a(9),s=a(10),i=a(12),l=a(11),u=a(13),p=a(0),h=a.n(p),m=(a(489),a(91)),d=(a(491),a(493)),f=a.n(d),b=a(494),E=a.n(b),y=a(495),g=a.n(y),v=a(150),k=function(t){function e(){return Object(o.a)(this,e),Object(i.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){switch(this.props.type){case"Bitcoin":return h.a.createElement("div",{className:"CryptoCard Bitcoin"},h.a.createElement("div",null,h.a.createElement("img",{src:f.a,alt:""}),h.a.createElement("p",null,"bitcoin")),h.a.createElement("div",null,h.a.createElement("p",null,"Your balance:"),h.a.createElement("p",null,v.d[this.props.type]," ",this.props.balance)));case"Ethereum":return h.a.createElement("div",{className:"CryptoCard Ethereum"},h.a.createElement("div",null,h.a.createElement("img",{src:E.a,alt:""}),h.a.createElement("p",null,"ethereum")),h.a.createElement("div",null,h.a.createElement("p",null,"Your balance:"),h.a.createElement("p",null,v.d[this.props.type]," ",this.props.balance)));case"Litecoin":return h.a.createElement("div",{className:"CryptoCard Litecoin"},h.a.createElement("div",null,h.a.createElement("img",{src:g.a,alt:""}),h.a.createElement("p",null,"litecoin")),h.a.createElement("div",null,h.a.createElement("p",null,"Your balance:"),h.a.createElement("p",null,v.d[this.props.type]," ",this.props.balance)));default:return null}}}]),e}(h.a.Component),C=a(83),O=a(180),N=function(t){function e(t){var a;return Object(o.a)(this,e),(a=Object(i.a)(this,Object(l.a)(e).call(this,t))).GetBalance=function(){Object(C.b)("users/list_balance/crypto/ALL").then(function(t){return a.setState({balance:{Bitcoin:t.result.btc_balance,Ethereum:t.result.eth_balance,Litecoin:t.result.ltc_balance}}),null}).catch(function(){return a.props.history.push("/dashboard")})},a.ScrollLoad=function(t){t.currentTarget.addEventListener("scroll",Object(O.a)(a.Scroll,500))},a.Scroll=function(t){for(var e=t.target.getBoundingClientRect().left,n=t.target.querySelectorAll("div.CryptoCard"),r=Array.from(n),c=-1,o=0;o<r.length;o++)if(r[o].getBoundingClientRect().left+r[o].offsetWidth-e>0){c=o;break}switch(c){case 0:a.setState({method:"Bitcoin"},a.GetRate);break;case 1:a.setState({method:"Ethereum"},a.GetRate);break;case 2:a.setState({method:"Litecoin"},a.GetRate);break;default:a.setState({method:"Bitcoin"},a.GetRate)}},a.GetRate=Object(c.a)(r.a.mark(function t(){var e,n;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=v.d[a.state.method],t.next=3,Object(C.c)("https://api.coinbase.com/v2/prices/"+e+"-"+a.currency+"/sell");case 3:n=t.sent,a.setState({rate:Number(n.data.amount)});case 5:case"end":return t.stop()}},t,this)})),a.Pay=function(){a.setState({payError:!1},function(){var t={brand:a.props.location.state.code,price:100*a.props.location.state.price,currency:a.currency};t.crypto=a.props.location.state.total>.01?v.d[a.state.method]:"CREDIT",a.props.location.state.apply&&(t.discount_code=a.props.location.state.promo),Object(C.d)("merchant/purchase",t).then(function(t){var e={brandcode:a.props.location.state.code,brandname:a.props.location.state.name,amount:a.props.location.state.price,currency:a.currency};return t.link&&(e.link=t.link),t.code&&(e.code=t.code),t.pin&&(e.pin=t.pin),a.props.history.push({pathname:"/dashboard/result",state:e}),null}).catch(function(t){401===t.statusCode?a.props.history.push("/"):a.setState({payError:!0,errorMessage:400===t.statusCode?"Insufficient Balance":"Please Try Again"})})})},a.state={balance:{Bitcoin:0,Ethereum:0,Litecoin:0},method:"Bitcoin",rate:0,payError:!1,errorMessage:null},a.currency="",a}return Object(u.a)(e,t),Object(s.a)(e,[{key:"componentDidMount",value:function(){this.props.location.state?(this.currency=v.a[v.b[this.props.location.state.country]],window.scrollTo({top:0,left:0,behavior:"smooth"}),this.GetBalance(),this.GetRate()):this.props.history.push("/dashboard")}},{key:"render",value:function(){var t=this;if(!this.props.location.state)return null;var e=["Bitcoin","Ethereum","Litecoin"].map(function(e,a){return h.a.createElement(k,{key:a,type:e,balance:t.state.balance[e]})}),a=v.d[this.state.method],n=(this.props.location.state.total/this.state.rate).toFixed(8),r=this.state.payError?"Actived":"";return h.a.createElement("div",{id:"Checkout"},h.a.createElement("div",{id:"Checkout-Background"}),h.a.createElement("p",{className:"Goback",onClick:function(){return t.props.history.push("/dashboard")}},h.a.createElement("i",{className:"fas fa-long-arrow-alt-left"})," SHOP"),h.a.createElement("p",{className:"Title"},this.props.location.state.name),h.a.createElement("div",{className:"Half-Card"},h.a.createElement(m.a,{urlpath:this.props.location.state.code})),h.a.createElement("p",{className:"Tooltip-1"},"You are converting"),h.a.createElement("p",{className:"Tooltip-2"},"$",this.props.location.state.total.toFixed(2),h.a.createElement("span",null,"($",this.props.location.state.price," gift card)")),h.a.createElement("div",{className:"CryptoCard-Content",onLoad:function(e){return t.ScrollLoad(e)}},e),h.a.createElement("p",{className:"Rate"},"Exchange Rate ",a," 1.00 = $",this.state.rate," ",this.currency),h.a.createElement("p",{className:"Error "+r},h.a.createElement("i",{className:"fas fa-exclamation-circle"}),this.state.errorMessage),h.a.createElement("button",{onClick:function(){return t.props.history.push("/dashboard")},className:"button-2 Goback"},h.a.createElement("i",{className:"fas fa-long-arrow-alt-left"})),h.a.createElement("button",{className:"button-2",onClick:this.Pay},"confirm ",a," ",n," ",h.a.createElement("i",{className:"fas fa-arrow-right"})),h.a.createElement("button",{className:"button-1",onClick:function(){return t.props.history.push("/dashboard/wallet")}},"fund this wallet",h.a.createElement("i",{className:"fas fa-arrow-right"})))}}]),e}(h.a.Component);e.default=N},91:function(t,e,a){"use strict";var n=a(9),r=a(10),c=a(12),o=a(11),s=a(13),i=a(0),l=a.n(i),u=(a(92),function(t){function e(t){var r;return Object(n.a)(this,e),(r=Object(c.a)(this,Object(o.a)(e).call(this,t))).GetURL=function(){a(94)("./"+r.props.urlpath+".png").then(function(t){return r.setState({urlpath:r.props.urlpath,url:t.default})}).catch(r.GetPlaceHolder)},r.GetPlaceHolder=function(){a.e(1).then(a.t.bind(null,87,7)).then(function(t){return r.setState({urlpath:r.props.urlpath,url:t.default})}).catch(function(){})},r.state={urlpath:null,url:null},r}return Object(s.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.GetURL()}},{key:"componentDidUpdate",value:function(){this.props.urlpath!==this.state.urlpath&&this.GetURL()}},{key:"render",value:function(){return l.a.createElement("img",{"data-value":this.props.urlpath,className:"GiftCard-Simple",src:this.state.url,alt:""})}}]),e}(l.a.Component));e.a=u},92:function(t,e,a){},94:function(t,e,a){var n={"./aircanada.png":[119,9],"./amazonca.png":[120,10],"./amazonus.png":[121,11],"./americanairlines.png":[122,12],"./bestbuy.png":[123,13],"./blank.png":[87,1],"./cineplex.png":[124,14],"./keg.png":[125,15],"./milestones.png":[126,16],"./montanas.png":[127,17],"./sephora.png":[128,18],"./starbucksca.png":[129,19],"./starbucksus.png":[130,20],"./walmart.png":[131,21]};function r(t){var e=n[t];return e?a.e(e[1]).then(function(){var t=e[0];return a.t(t,7)}):Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}r.keys=function(){return Object.keys(n)},r.id=94,t.exports=r}}]);
//# sourceMappingURL=26.740c048c.chunk.js.map