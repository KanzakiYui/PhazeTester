(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{662:function(e,t,a){},664:function(e,t,a){},700:function(e,t,a){"use strict";a.r(t);var n=a(50),s=a(51),o=a(53),r=a(52),l=a(54),c=a(0),i=a.n(c),u=(a(662),a(188)),m=a(24),d=a(190),p=(a(664),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(r.a)(t).call(this,e))).Submit=function(e){e.preventDefault();var t=e.target["changepin-old"],n=e.target["changepin-new"],s=e.target["changepin-new-confirm"];if(t.validity.valid)if(n.validity.valid&&s.validity.valid){var o={old_password:t.value,new_password:n.value};Object(u.d)("users/change_password",o).then(function(){a.setState({success:!0})}).catch(function(e){401===e.statusCode?a.props.onError():a.setState({openMessage:!0,message:400===e.statusCode?"Current Password is Wrong":"Failed to Change"})})}else n.classList.add("Checked"),s.classList.add("Checked"),a.setState({openMessage:!0,message:"Two passwords should be identical and only alphanumeric is allowed. Minimum length is 8"});else t.classList.add("Checked"),a.setState({openMessage:!0,message:"Current password is required"})},a.newPinRef=i.a.createRef(),a.newPinConfirmRef=i.a.createRef(),a.state={showoldPassword:!1,shownewPassword:!1,openMessage:!1,message:null,success:!1},a}return Object(l.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return this.state.success?i.a.createElement("p",{id:"ChangePIN-Success"},"Password is Changed!"):i.a.createElement("div",{id:"ChangePIN"},i.a.createElement("p",{className:"Title"},"Change Password"),i.a.createElement("form",{id:"ChangePINForm",onSubmit:function(t){return e.Submit(t)},noValidate:!0},i.a.createElement("label",null,i.a.createElement("i",{className:"fas fa-unlock-alt"}),i.a.createElement("input",{id:"changepin-old",name:"changepin-old",type:this.state.showoldPassword?"text":"password",maxLength:"24",placeholder:"Current Password",required:!0,autoComplete:"on"}),i.a.createElement("span",{className:"Symbol",onClick:function(){return e.setState(function(e){return{showoldPassword:!e.showoldPassword}})}},this.state.showoldPassword?i.a.createElement("i",{className:"fas fa-eye"}):i.a.createElement("i",{className:"fas fa-eye-slash"}))),i.a.createElement("label",null,i.a.createElement("i",{className:"fas fa-lock"}),i.a.createElement("input",{ref:this.newPinRef,id:"changepin-new",name:"changepin-new",type:this.state.shownewPassword?"text":"password",maxLength:"24",pattern:"^[0-9A-z]{8,}$",placeholder:"New Password",required:!0,autoComplete:"on",onChange:function(t){return e.newPinConfirmRef.current.pattern=t.target.value}}),i.a.createElement("span",{className:"Symbol",onClick:function(){return e.setState(function(e){return{shownewPassword:!e.shownewPassword}})}},this.state.shownewPassword?i.a.createElement("i",{className:"fas fa-eye"}):i.a.createElement("i",{className:"fas fa-eye-slash"}))),i.a.createElement("label",null,i.a.createElement("i",{className:"fas fa-lock"}),i.a.createElement("input",{ref:this.newPinConfirmRef,id:"changepin-new-confirm",name:"changepin-new-confirm",type:this.state.shownewPassword?"text":"password",maxLength:"24",pattern:"^[0-9A-z]{8,}$",placeholder:"Confrim New Password",required:!0,autoComplete:"on"}),i.a.createElement("span",{className:"Symbol",onClick:function(){return e.setState(function(e){return{shownewPassword:!e.shownewPassword}})}},this.state.shownewPassword?i.a.createElement("i",{className:"fas fa-eye"}):i.a.createElement("i",{className:"fas fa-eye-slash"}))),i.a.createElement("button",{type:"submit",className:"button-1"},"Confirm")),i.a.createElement(d.a,{open:this.state.openMessage,type:"error",buttonText:"Close",content:this.state.message,close:function(){return e.setState({openMessage:!1})}}))}}]),t}(i.a.Component)),h=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(r.a)(t).call(this,e))).GetLocation=function(){Object(u.c)("https://api.ipdata.co/?api-key=test").then(function(e){a.setState({location:{country:e.country_name,province:e.region_code,city:e.city}})}).catch(function(){})},a.state={showContent:!1,location:{country:null,province:null,city:null},openChangePINBox:!1},a}return Object(l.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.username?(m.a.has(document.body)?m.a.get(document.body).scrollTo(0,0,500):window.scrollTo(0,0),this.GetLocation()):this.props.history.push("/dashboard")}},{key:"render",value:function(){var e=this;if(!this.state.showContent)return i.a.createElement("div",{id:"Account"},i.a.createElement("p",{className:"Title"},"Account Overview"),i.a.createElement("div",{id:"Account-Info"},i.a.createElement("p",{className:"Title"},"Personal Information"),i.a.createElement("div",null,i.a.createElement("p",null,i.a.createElement("i",{className:"fas fa-envelope-square"}),"E-mail"),i.a.createElement("p",null,this.props.username)),i.a.createElement("div",null,i.a.createElement("p",null,i.a.createElement("i",{className:"fas fa-compass"}),"Location"),i.a.createElement("p",null,this.state.location.city,i.a.createElement("span",null,this.state.location.province),this.state.location.country)),i.a.createElement("div",null,i.a.createElement("p",null,i.a.createElement("i",{className:"fas fa-id-card"}),"Identity"),this.props.kycVerified?i.a.createElement("p",{className:"Verified"},this.props.kycCountry):i.a.createElement("p",{className:"NeedVerify"},"Unverified")),i.a.createElement("div",null,i.a.createElement("p",null,i.a.createElement("i",{className:"fas fa-qrcode"}),"Promo Code"),i.a.createElement("p",{className:"PromoCode"},this.props.promoInfo.code?i.a.createElement("span",null,this.props.promoInfo.code):"Not Available")),i.a.createElement("div",null,i.a.createElement("p",null,i.a.createElement("i",{className:"fas fa-gift"}),"Applicable Rate"),i.a.createElement("p",null,100*this.props.promoInfo.rate," %"))),i.a.createElement("button",{className:"button-1 ChangePIN",onClick:function(){return e.setState({openChangePINBox:!0})}},"Change Password"),i.a.createElement("button",{className:"button-1 Orders",onClick:function(){return e.props.history.push("/dashboard/orders")}},"View Order History"),this.props.kycVerified?null:i.a.createElement("button",{className:"button-1 KYC",onClick:function(){return e.props.history.push("/dashboard/identity")}},"Verify Identity"),i.a.createElement("button",{className:"button-2 Logout",onClick:this.props.Logout},"Logout"),i.a.createElement(d.a,{open:this.state.openChangePINBox,type:"input",buttonText:"Close",content:i.a.createElement(p,{onError:this.props.Logout}),close:function(){return e.setState({openChangePINBox:!1})}}))}}]),t}(i.a.Component);t.default=h}}]);
//# sourceMappingURL=12.4a7a8b23.chunk.js.map