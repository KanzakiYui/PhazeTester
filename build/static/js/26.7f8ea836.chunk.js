(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{182:function(t,e,a){"use strict";e.a=function(t,e){var a;return e=e||200,function(n){a&&clearTimeout(a),a=setTimeout(t,e,n)}}},183:function(t,e,a){"use strict";var n=a(9),r=a(10),c=a(12),o=a(11),s=a(13),l=a(0),i=a.n(l),u=(a(184),a(186)),p=a.n(u),m=a(187),h=a.n(m),d=a(188),f=a.n(d),b=a(189),E=a.n(b),y=a(120),v=function(t){function e(){return Object(n.a)(this,e),Object(c.a)(this,Object(o.a)(e).apply(this,arguments))}return Object(s.a)(e,t),Object(r.a)(e,[{key:"render",value:function(){switch(this.props.type){case"Bitcoin":return i.a.createElement("div",{className:"CryptoCard Bitcoin"},i.a.createElement("div",null,i.a.createElement("img",{src:p.a,alt:""}),i.a.createElement("p",null,"bitcoin")),i.a.createElement("div",null,i.a.createElement("p",null,"Your balance:"),i.a.createElement("p",null,y.d[this.props.type]," ",this.props.balance)));case"Ethereum":return i.a.createElement("div",{className:"CryptoCard Ethereum"},i.a.createElement("div",null,i.a.createElement("img",{src:h.a,alt:""}),i.a.createElement("p",null,"ethereum")),i.a.createElement("div",null,i.a.createElement("p",null,"Your balance:"),i.a.createElement("p",null,y.d[this.props.type]," ",this.props.balance)));case"Litecoin":return i.a.createElement("div",{className:"CryptoCard Litecoin"},i.a.createElement("div",null,i.a.createElement("img",{src:f.a,alt:""}),i.a.createElement("p",null,"litecoin")),i.a.createElement("div",null,i.a.createElement("p",null,"Your balance:"),i.a.createElement("p",null,y.d[this.props.type]," ",this.props.balance)));case"BitcoinCash":return i.a.createElement("div",{className:"CryptoCard BitcoinCash"},i.a.createElement("div",null,i.a.createElement("img",{src:E.a,alt:""}),i.a.createElement("p",null,"Bitcoin",i.a.createElement("span",null,"Cash"))),i.a.createElement("div",null,i.a.createElement("p",null,"Your balance:"),i.a.createElement("p",null,y.d[this.props.type]," ",this.props.balance)));default:return null}}}]),e}(i.a.Component);e.a=v},184:function(t,e,a){},186:function(t,e,a){t.exports=a.p+"static/media/Bitcoin.a552edcd.png"},187:function(t,e,a){t.exports=a.p+"static/media/Ethereum.a9b80ba0.png"},188:function(t,e,a){t.exports=a.p+"static/media/Litecoin.97fb2b98.png"},189:function(t,e,a){t.exports=a.p+"static/media/BitcoinCash.f6f2de36.png"},629:function(t,e,a){"use strict";a.r(e);var n=a(180),r=a.n(n),c=a(181),o=a(9),s=a(10),l=a(12),i=a(11),u=a(13),p=a(0),m=a.n(p),h=(a(630),a(92)),d=a(183),f=a(83),b=a(182),E=a(120),y=function(t){function e(t){var a;return Object(o.a)(this,e),(a=Object(l.a)(this,Object(i.a)(e).call(this,t))).GetBalance=function(){Object(f.b)("users/list_balance/crypto/ALL").then(function(t){return a.setState({balance:{Bitcoin:t.result.btc_balance,Ethereum:t.result.eth_balance,Litecoin:t.result.ltc_balance}}),null}).catch(function(){return a.props.history.push("/dashboard")})},a.ScrollLoad=function(t){t.currentTarget.addEventListener("scroll",Object(b.a)(a.Scroll,500))},a.Scroll=function(t){for(var e=t.target.getBoundingClientRect().left,n=t.target.querySelectorAll("div.CryptoCard"),r=Array.from(n),c=-1,o=0;o<r.length;o++)if(r[o].getBoundingClientRect().left+r[o].offsetWidth-e>0){c=o;break}switch(c){case 0:a.setState({method:"Bitcoin"},a.GetRate);break;case 1:a.setState({method:"Ethereum"},a.GetRate);break;case 2:a.setState({method:"Litecoin"},a.GetRate);break;default:a.setState({method:"Bitcoin"},a.GetRate)}},a.GetRate=Object(c.a)(r.a.mark(function t(){var e,n;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=E.d[a.state.method],t.next=3,Object(f.c)("https://api.coinbase.com/v2/prices/"+e+"-"+a.currency+"/sell");case 3:n=t.sent,a.setState({rate:Number(n.data.amount)});case 5:case"end":return t.stop()}},t,this)})),a.Pay=function(){a.setState({payError:!1},function(){var t={brand:a.props.location.state.code,price:100*a.props.location.state.price,currency:a.currency};t.crypto=a.props.location.state.total>.01?E.d[a.state.method]:"CREDIT",a.props.location.state.apply&&(t.discount_code=a.props.location.state.promo),Object(f.d)("merchant/purchase",t).then(function(t){var e={brandcode:a.props.location.state.code,brandname:a.props.location.state.name,amount:a.props.location.state.price,currency:a.currency};return t.link&&(e.link=t.link),t.code&&(e.code=t.code),t.pin&&(e.pin=t.pin),a.props.history.push({pathname:"/dashboard/result",state:e}),null}).catch(function(t){401===t.statusCode?a.props.history.push("/"):a.setState({payError:!0,errorMessage:400===t.statusCode?"Insufficient Balance":"Please Try Again"})})})},a.state={balance:{Bitcoin:0,Ethereum:0,Litecoin:0},method:"Bitcoin",rate:0,payError:!1,errorMessage:null},a.currency="",a}return Object(u.a)(e,t),Object(s.a)(e,[{key:"componentDidMount",value:function(){this.props.location.state?(this.currency=E.a[E.b[this.props.location.state.country]],window.scrollTo({top:0,left:0,behavior:"smooth"}),this.GetBalance(),this.GetRate()):this.props.history.push("/dashboard")}},{key:"render",value:function(){var t=this;if(!this.props.location.state)return null;var e=["Bitcoin","Ethereum","Litecoin"].map(function(e,a){return m.a.createElement(d.a,{key:a,type:e,balance:t.state.balance[e]})}),a=E.d[this.state.method],n=(this.props.location.state.total/this.state.rate).toFixed(8),r=this.state.payError?"Actived":"";return m.a.createElement("div",{id:"Checkout"},m.a.createElement("div",{id:"Checkout-Background"}),m.a.createElement("p",{className:"Goback",onClick:function(){return t.props.history.push("/dashboard")}},m.a.createElement("i",{className:"fas fa-long-arrow-alt-left"})," SHOP"),m.a.createElement("p",{className:"Title"},this.props.location.state.name),m.a.createElement("div",{className:"Half-Card"},m.a.createElement(h.a,{urlpath:this.props.location.state.code})),m.a.createElement("p",{className:"Tooltip-1"},"You are converting"),m.a.createElement("p",{className:"Tooltip-2"},"$",this.props.location.state.total.toFixed(2),m.a.createElement("span",null,"($",this.props.location.state.price," gift card)")),m.a.createElement("div",{className:"CryptoCard-Content",onLoad:function(e){return t.ScrollLoad(e)}},e),m.a.createElement("p",{className:"Rate"},"Exchange Rate ",a," 1.00 = $",this.state.rate," ",this.currency),m.a.createElement("p",{className:"Error "+r},m.a.createElement("i",{className:"fas fa-exclamation-circle"}),this.state.errorMessage),m.a.createElement("button",{onClick:function(){return t.props.history.push("/dashboard")},className:"button-2 Goback"},m.a.createElement("i",{className:"fas fa-long-arrow-alt-left"})),m.a.createElement("button",{className:"button-2",onClick:this.Pay},"confirm ",a," ",n," ",m.a.createElement("i",{className:"fas fa-arrow-right"})),m.a.createElement("button",{className:"button-1",onClick:function(){return t.props.history.push("/dashboard/wallet")}},"fund this wallet",m.a.createElement("i",{className:"fas fa-arrow-right"})))}}]),e}(m.a.Component);e.default=y},630:function(t,e,a){},92:function(t,e,a){"use strict";var n=a(9),r=a(10),c=a(12),o=a(11),s=a(13),l=a(0),i=a.n(l),u=(a(93),function(t){function e(t){var r;return Object(n.a)(this,e),(r=Object(c.a)(this,Object(o.a)(e).call(this,t))).GetURL=function(){a(95)("./"+r.props.urlpath+".png").then(function(t){return r.setState({urlpath:r.props.urlpath,url:t.default})}).catch(r.GetPlaceHolder)},r.GetPlaceHolder=function(){a.e(1).then(a.t.bind(null,88,7)).then(function(t){return r.setState({urlpath:r.props.urlpath,url:t.default})}).catch(function(){})},r.state={urlpath:null,url:null},r}return Object(s.a)(e,t),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.GetURL()}},{key:"componentDidUpdate",value:function(){this.props.urlpath!==this.state.urlpath&&this.GetURL()}},{key:"render",value:function(){return i.a.createElement("img",{"data-value":this.props.urlpath,className:"GiftCard-Simple",src:this.state.url,alt:""})}}]),e}(i.a.Component));e.a=u},93:function(t,e,a){},95:function(t,e,a){var n={"./aircanada.png":[121,9],"./amazonca.png":[122,10],"./amazonus.png":[123,11],"./americanairlines.png":[124,12],"./bestbuy.png":[125,13],"./blank.png":[88,1],"./cineplex.png":[126,14],"./keg.png":[127,15],"./milestones.png":[128,16],"./montanas.png":[129,17],"./sephora.png":[130,18],"./starbucksca.png":[131,19],"./starbucksus.png":[132,20],"./walmart.png":[133,21]};function r(t){var e=n[t];return e?a.e(e[1]).then(function(){var t=e[0];return a.t(t,7)}):Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}r.keys=function(){return Object.keys(n)},r.id=95,t.exports=r}}]);
//# sourceMappingURL=26.7f8ea836.chunk.js.map